name: Remind about config documentation updates
on:
  pull_request:
    types: [opened]
    paths:
      - 'conf/defaults.ini'

jobs:
  remind-about-docs:
    if: ${{ ! github.event.pull_request.head.repo.fork }}
    runs-on: ubuntu-latest
    permissions:
      pull-requests: write
    steps:
      - uses: marocchino/sticky-pull-request-comment@773744901bac0e8cbb5a0dc842800d45e9b2b405
        with:
          message: |
            ## ğŸ“ Configuration Documentation Reminder
            
            Hi there! ğŸ‘‹ This PR modifies `conf/defaults.ini`.
            
            If this change introduces **user-facing configuration options** or modifies existing ones, please remember to update the configuration documentation:
            
            ğŸ“„ [`docs/sources/setup-grafana/configure-grafana/_index.md`](https://github.com/grafana/grafana/blob/main/docs/sources/setup-grafana/configure-grafana/_index.md)
            
            **Please check if:**
            - New configuration options need to be documented
            - Existing option descriptions need updating
            - Default values have changed
            - Any options have been deprecated or removed
            
            If this change is **internal-only** (experimental flags, internal refactoring, etc.), please ignore this reminder! âœ¨
            
            ---
            
            _This is an automated reminder. Questions? Reach out to the #docs channel on Slack._
