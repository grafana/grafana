{
  "kind": "Dashboard",
  "apiVersion": "dashboard.grafana.app/v2alpha1",
  "metadata": {
    "name": "v16.span_zero_demo.v42"
  },
  "spec": {
    "annotations": [
      {
        "kind": "AnnotationQuery",
        "spec": {
          "datasource": {
            "type": "grafana",
            "uid": "-- Grafana --"
          },
          "query": {
            "kind": "DataQuery",
            "spec": {}
          },
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations \u0026 Alerts",
          "builtIn": true,
          "legacyOptions": {
            "type": "dashboard"
          }
        }
      }
    ],
    "cursorSync": "Off",
    "editable": false,
    "elements": {
      "panel-1": {
        "kind": "Panel",
        "spec": {
          "id": 1,
          "title": "Application Monitoring",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {}
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "default-ds-uid"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "text",
            "spec": {
              "pluginVersion": "",
              "options": {
                "content": "This dashboard demonstrates various monitoring components for application observability and performance metrics.\n",
                "mode": "markdown"
              },
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-10": {
        "kind": "Panel",
        "spec": {
          "id": 10,
          "title": "All",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "{namespace=\"default\", cluster=\"$cluster\", job=\"app-service\"} | logfmt"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${loki}"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "logs",
            "spec": {
              "pluginVersion": "",
              "options": {
                "enableLogDetails": true,
                "showTime": false,
                "sortOrder": "Descending",
                "wrapLogMessage": true
              },
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-11": {
        "kind": "Panel",
        "spec": {
          "id": 11,
          "title": "Performance Analysis",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {}
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "default-ds-uid"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "text",
            "spec": {
              "pluginVersion": "",
              "options": {
                "content": "Performance monitoring examines factors that affect system response times, including operation duration, queue lengths, and processing delays. This section provides metrics and traces for performance analysis.\n",
                "mode": "markdown"
              },
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-12": {
        "kind": "Panel",
        "spec": {
          "id": 12,
          "title": "Concurrent Job Drivers",
          "description": "Number of concurrent processing threads available for handling operations",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "max(app_worker_threads_active{cluster=\"$cluster\", namespace=\"default\"})",
                        "instant": true
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "stat",
            "spec": {
              "pluginVersion": "",
              "options": {},
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-13": {
        "kind": "Panel",
        "spec": {
          "id": 13,
          "title": "Recent Operation Traces",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "filters": [
                          {
                            "id": "span-name",
                            "operator": "=",
                            "scope": "span",
                            "tag": "name",
                            "value": [
                              "provisioning.sync.process"
                            ]
                          },
                          {
                            "id": "k8s-cluster-name",
                            "operator": "=",
                            "scope": "resource",
                            "tag": "k8s.cluster.name",
                            "value": [
                              "$cluster"
                            ]
                          }
                        ],
                        "query": "{name=\"app.operation.process\"}",
                        "queryType": "traceqlSearch"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${tempo}"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "table",
            "spec": {
              "pluginVersion": "",
              "options": {},
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-14": {
        "kind": "Panel",
        "spec": {
          "id": 14,
          "title": "7d avg of job durations",
          "description": "Histogram showing p99, p95, p50, and p10 percentiles for job processing duration based on number of resources changed",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "histogram_quantile(0.99, sum(rate(app_operation_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[7d])) by (le, resources_changed_bucket, action)) and on(resources_changed_bucket, action) sum(rate(app_operation_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[7d])) by (resources_changed_bucket, action) \u003e 0",
                        "legendFormat": "{{action}} q0.99 - size {{resources_changed_bucket}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "B",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "histogram_quantile(0.9, sum(rate(app_operation_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[7d])) by (le, resources_changed_bucket, action)) and on(resources_changed_bucket, action) sum(rate(app_operation_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[7d])) by (resources_changed_bucket, action) \u003e 0",
                        "legendFormat": "{{action}} q0.95 - size {{resources_changed_bucket}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "C",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "histogram_quantile(0.5, sum(rate(app_operation_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[7d])) by (le, resources_changed_bucket, action)) and on(resources_changed_bucket, action) sum(rate(app_operation_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[7d])) by (resources_changed_bucket, action) \u003e 0",
                        "legendFormat": "{{action}} q0.5 - size {{resources_changed_bucket}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "D",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "histogram_quantile(0.1, sum(rate(app_operation_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[7d])) by (le, resources_changed_bucket, action)) and on(resources_changed_bucket, action) sum(rate(app_operation_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[7d])) by (resources_changed_bucket, action) \u003e 0",
                        "legendFormat": "{{action}} q0.1 - size {{resources_changed_bucket}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "E",
                    "hidden": false
                  }
                }
              ],
              "transformations": [
                {
                  "kind": "reduce",
                  "spec": {
                    "id": "reduce",
                    "options": {
                      "mode": "seriesToRows",
                      "reducers": [
                        "mean"
                      ]
                    }
                  }
                },
                {
                  "kind": "seriesToRows",
                  "spec": {
                    "id": "seriesToRows",
                    "options": null
                  }
                },
                {
                  "kind": "organize",
                  "spec": {
                    "id": "organize",
                    "options": {
                      "renameByName": {
                        "Field": "Type",
                        "Mean": "Avg Duration",
                        "Metric": "Legend",
                        "Value": "Duration"
                      }
                    }
                  }
                }
              ],
              "queryOptions": {
                "timeFrom": "7d"
              }
            }
          },
          "vizConfig": {
            "kind": "table",
            "spec": {
              "pluginVersion": "",
              "options": {},
              "fieldConfig": {
                "defaults": {
                  "unit": "s",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "value": 0,
                        "color": "green"
                      },
                      {
                        "value": 2,
                        "color": "yellow"
                      },
                      {
                        "value": 5,
                        "color": "red"
                      }
                    ]
                  }
                },
                "overrides": []
              }
            }
          }
        }
      },
      "panel-15": {
        "kind": "Panel",
        "spec": {
          "id": 15,
          "title": "Job Duration",
          "description": "Histogram showing p99, p95, p50, and p10 percentiles for job processing duration based on number of resources changed",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "histogram_quantile(0.99, sum(rate(app_operation_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[5m])) by (le, resources_changed_bucket, action))",
                        "legendFormat": "{{action}} q0.99 - size {{resources_changed_bucket}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "B",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "histogram_quantile(0.95, sum(rate(app_operation_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[5m])) by (le, resources_changed_bucket, action))",
                        "legendFormat": "{{action}} q0.95 - size {{resources_changed_bucket}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "C",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "histogram_quantile(0.5, sum(rate(app_operation_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[5m])) by (le, resources_changed_bucket, action))",
                        "legendFormat": "{{action}} q0.5 - size {{resources_changed_bucket}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "D",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "histogram_quantile(0.1, sum(rate(app_operation_duration_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[5m])) by (le, resources_changed_bucket, action))",
                        "legendFormat": "{{action}} q0.1 - size {{resources_changed_bucket}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "E",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "timeseries",
            "spec": {
              "pluginVersion": "",
              "options": {},
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-16": {
        "kind": "Panel",
        "spec": {
          "id": 16,
          "title": "Queue Size",
          "description": "Total number of jobs waiting to be processed",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "clamp_min(sum(app_operation_queue_size{cluster=\"$cluster\", namespace=\"default\"}), 0)",
                        "legendFormat": "Queue size"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "stat",
            "spec": {
              "pluginVersion": "",
              "options": {},
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-17": {
        "kind": "Panel",
        "spec": {
          "id": 17,
          "title": "7d avg Queue Wait Time",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "avg(histogram_quantile(0.5, sum(rate(app_operation_queue_wait_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[7d])) by (le)))",
                        "legendFormat": "Queue size"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {
                "timeFrom": "7d"
              }
            }
          },
          "vizConfig": {
            "kind": "stat",
            "spec": {
              "pluginVersion": "",
              "options": {},
              "fieldConfig": {
                "defaults": {
                  "unit": "s"
                },
                "overrides": []
              }
            }
          }
        }
      },
      "panel-18": {
        "kind": "Panel",
        "spec": {
          "id": 18,
          "title": "Queue Wait Time",
          "description": "How long a job is in the queue before being picked up",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "histogram_quantile(0.99, sum(rate(app_operation_queue_wait_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[$__rate_interval])) by (le))",
                        "legendFormat": "q0.99"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "B",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "histogram_quantile(0.95, sum(rate(app_operation_queue_wait_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[$__rate_interval])) by (le))",
                        "legendFormat": "q0.95"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "C",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "histogram_quantile(0.5, sum(rate(app_operation_queue_wait_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[$__rate_interval])) by (le))",
                        "legendFormat": "q0.5"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "D",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "histogram_quantile(0.1, sum(rate(app_operation_queue_wait_seconds_bucket{cluster=\"$cluster\", namespace=\"default\"}[$__rate_interval])) by (le))",
                        "legendFormat": "q0.1"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "E",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "timeseries",
            "spec": {
              "pluginVersion": "",
              "options": {},
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-19": {
        "kind": "Panel",
        "spec": {
          "id": 19,
          "title": "Resource Monitoring",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {}
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "default-ds-uid"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "text",
            "spec": {
              "pluginVersion": "",
              "options": {
                "content": "Resource utilization monitoring for application containers",
                "mode": "markdown"
              },
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-20": {
        "kind": "Panel",
        "spec": {
          "id": 20,
          "title": "Running Pod(s)",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "count by (cluster, channel)(label_replace(label_replace(kube_pod_container_info{namespace=\"default\", container=\"app-worker\", pod=~\"app-worker.*\", cluster=~\"$cluster\"}, \"version\", \"$1\", \"image\", \".+:(.+)\"), \"channel\", \"$1\", \"container\", \".+-(.+)\"))",
                        "legendFormat": "{{cluster}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "timeseries",
            "spec": {
              "pluginVersion": "",
              "options": {},
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-21": {
        "kind": "Panel",
        "spec": {
          "id": 21,
          "title": "Memory Utilization",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "max(kube_pod_container_resource_requests{namespace=\"default\", resource=\"memory\", cluster=~\"$cluster\", container=\"app-worker\", pod=~\"app-worker.*\"})",
                        "legendFormat": "Memory Request"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "max(kube_pod_container_resource_limits{namespace=\"default\", resource=\"memory\", cluster=~\"$cluster\", container=\"app-worker\", pod=~\"app-worker.*\"})",
                        "legendFormat": "Memory Limit"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "B",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "max(container_memory_usage_bytes{namespace=\"default\",cluster=~\"$cluster\", container=\"app-worker\", pod=~\"app-worker.*\"}) by (pod)",
                        "legendFormat": "Container usage {{pod}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "C",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "timeseries",
            "spec": {
              "pluginVersion": "",
              "options": {},
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-22": {
        "kind": "Panel",
        "spec": {
          "id": 22,
          "title": "CPU Utilization",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "sum(irate(container_cpu_usage_seconds_total{namespace=\"default\", cluster=~\"$cluster\", container=\"app-worker\", pod=~\"app-worker-.*\"}[$__rate_interval])) by (pod, container, cpu)",
                        "legendFormat": "Usage {{pod}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "sum(irate(container_cpu_cfs_throttled_seconds_total{namespace=\"default\", cluster=~\"$cluster\", container=\"app-worker\", pod=~\"app-worker-.*\"}[$__rate_interval])) by (pod, container)",
                        "legendFormat": "Throttling {{pod}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "B",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "max(kube_pod_container_resource_limits{namespace=\"default\", cluster=~\"$cluster\", container=\"app-worker\", pod=~\"app-worker-.*\", resource=\"cpu\"})",
                        "legendFormat": "CPU limit"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "C",
                    "hidden": false
                  }
                },
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "max(kube_pod_container_resource_requests{namespace=\"default\", cluster=~\"$cluster\", container=\"app-worker\", pod=~\"app-worker-.*\", resource=\"cpu\"})",
                        "legendFormat": "CPU request"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "D",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "timeseries",
            "spec": {
              "pluginVersion": "",
              "options": {},
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-6": {
        "kind": "Panel",
        "spec": {
          "id": 6,
          "title": "Service Overview",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {}
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "default-ds-uid"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "text",
            "spec": {
              "pluginVersion": "",
              "options": {
                "content": "This service handles background processing tasks for the application system. It manages various types of operations including data synchronization, resource management, and batch processing.\n\nSupported operation types:\n1. Sync: Synchronizes data between different systems\n2. Process: Handles batch data processing tasks\n3. Cleanup: Removes outdated or temporary resources\n4. Update: Applies configuration changes across services\n\nService dependencies:\n- Data API: For reading and writing application data\n- Configuration Service: For managing system settings\n- Queue Service: For handling task scheduling\n- Storage Service: For persistent data management\n- Auth Service: For authentication and authorization\n- Metrics Service: For collecting operational statistics\n",
                "mode": "markdown"
              },
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-7": {
        "kind": "Panel",
        "spec": {
          "id": 7,
          "title": "Error Monitoring",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {}
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "default-ds-uid"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "text",
            "spec": {
              "pluginVersion": "",
              "options": {
                "content": "Error monitoring helps identify issues in the system. This section displays error logs and success rates for operations.",
                "mode": "markdown"
              },
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      },
      "panel-8": {
        "kind": "Panel",
        "spec": {
          "id": 8,
          "title": "Job Success Rate",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "sum by (action) (app_jobs_processed_total{outcome=\"success\", cluster=\"$cluster\", namespace=\"default\"})\n/\nsum by (action) (app_jobs_processed_total{cluster=\"$cluster\", namespace=\"default\"})\n",
                        "legendFormat": "{{action}}"
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${prom}"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "stat",
            "spec": {
              "pluginVersion": "",
              "options": {},
              "fieldConfig": {
                "defaults": {
                  "unit": "percentunit",
                  "thresholds": {
                    "mode": "absolute",
                    "steps": [
                      {
                        "value": 0,
                        "color": "red"
                      },
                      {
                        "value": 0.95,
                        "color": "yellow"
                      },
                      {
                        "value": 1,
                        "color": "green"
                      }
                    ]
                  }
                },
                "overrides": []
              }
            }
          }
        }
      },
      "panel-9": {
        "kind": "Panel",
        "spec": {
          "id": 9,
          "title": "Errors",
          "description": "",
          "links": [],
          "data": {
            "kind": "QueryGroup",
            "spec": {
              "queries": [
                {
                  "kind": "PanelQuery",
                  "spec": {
                    "query": {
                      "kind": "DataQuery",
                      "spec": {
                        "expr": "{namespace=\"default\", cluster=\"$cluster\", job=\"app-service\"} | logfmt | level=\"error\""
                      }
                    },
                    "datasource": {
                      "type": "prometheus",
                      "uid": "${loki}"
                    },
                    "refId": "A",
                    "hidden": false
                  }
                }
              ],
              "transformations": [],
              "queryOptions": {}
            }
          },
          "vizConfig": {
            "kind": "logs",
            "spec": {
              "pluginVersion": "",
              "options": {
                "enableLogDetails": true,
                "showTime": false,
                "sortOrder": "Descending",
                "wrapLogMessage": true
              },
              "fieldConfig": {
                "defaults": {},
                "overrides": []
              }
            }
          }
        }
      }
    },
    "layout": {
      "kind": "GridLayout",
      "spec": {
        "items": null
      }
    },
    "links": [
      {
        "title": "External Documentation",
        "type": "link",
        "icon": "external link",
        "tooltip": "",
        "url": "https://example.com/docs",
        "tags": [],
        "asDropdown": false,
        "targetBlank": true,
        "includeVars": false,
        "keepTime": false
      }
    ],
    "liveNow": false,
    "preload": false,
    "tags": [
      "as-code"
    ],
    "timeSettings": {
      "timezone": "utc",
      "from": "now-6h",
      "to": "now",
      "autoRefresh": "10s",
      "autoRefreshIntervals": [
        "5s",
        "10s",
        "30s",
        "1m",
        "5m",
        "15m",
        "30m",
        "1h",
        "2h",
        "1d"
      ],
      "hideTimepicker": false,
      "fiscalYearStartMonth": 0
    },
    "title": "Span Zero Demo Dashboard",
    "variables": [
      {
        "kind": "DatasourceVariable",
        "spec": {
          "name": "datasource",
          "pluginId": "prometheus",
          "refresh": "onDashboardLoad",
          "regex": "",
          "current": {
            "text": "",
            "value": "prometheus-datasource"
          },
          "options": [],
          "multi": false,
          "includeAll": false,
          "label": "Data source",
          "hide": "dontHide",
          "skipUrlSync": false,
          "allowCustomValue": true
        }
      },
      {
        "kind": "DatasourceVariable",
        "spec": {
          "name": "prom",
          "pluginId": "prometheus",
          "refresh": "onDashboardLoad",
          "regex": "",
          "current": {
            "text": "",
            "value": "prometheus-datasource"
          },
          "options": [],
          "multi": false,
          "includeAll": false,
          "hide": "dontHide",
          "skipUrlSync": false,
          "allowCustomValue": true
        }
      },
      {
        "kind": "DatasourceVariable",
        "spec": {
          "name": "loki",
          "pluginId": "loki",
          "refresh": "onDashboardLoad",
          "regex": "",
          "current": {
            "text": "",
            "value": "loki-datasource"
          },
          "options": [],
          "multi": false,
          "includeAll": false,
          "hide": "dontHide",
          "skipUrlSync": false,
          "allowCustomValue": true
        }
      },
      {
        "kind": "DatasourceVariable",
        "spec": {
          "name": "tempo",
          "pluginId": "tempo",
          "refresh": "onDashboardLoad",
          "regex": ".*tempo.*",
          "current": {
            "text": "tempo-datasource",
            "value": "tempo-datasource"
          },
          "options": [],
          "multi": false,
          "includeAll": false,
          "hide": "dontHide",
          "skipUrlSync": false,
          "allowCustomValue": true
        }
      },
      {
        "kind": "QueryVariable",
        "spec": {
          "name": "cluster",
          "current": {
            "text": "demo-cluster",
            "value": "demo-cluster"
          },
          "hide": "dontHide",
          "refresh": "onDashboardLoad",
          "skipUrlSync": false,
          "datasource": {
            "type": "prometheus",
            "uid": "${prom}"
          },
          "query": {
            "kind": "DataQuery",
            "spec": {
              "__legacyStringValue": "label_values(app_worker_threads_active,cluster)"
            }
          },
          "regex": "",
          "sort": "disabled",
          "options": [],
          "multi": false,
          "includeAll": false,
          "allowCustomValue": true
        }
      }
    ]
  },
  "status": {}
}