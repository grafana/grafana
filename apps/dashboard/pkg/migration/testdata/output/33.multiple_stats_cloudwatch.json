{
  "annotations": {
    "list": [
      {
        "dimensions": {
          "InstanceId": "i-123456"
        },
        "enable": true,
        "iconColor": "red",
        "name": "CloudWatch Annotation Single Statistic",
        "namespace": "AWS/EC2",
        "prefixMatching": false,
        "region": "us-east-1",
        "statistic": "Average"
      },
      {
        "dimensions": {
          "InstanceId": "i-789012"
        },
        "enable": true,
        "iconColor": "blue",
        "name": "CloudWatch Annotation Multiple Statistics - Maximum",
        "namespace": "AWS/RDS",
        "prefixMatching": false,
        "region": "us-west-2",
        "statistic": "Maximum"
      },
      {
        "dimensions": {
          "LoadBalancer": "my-lb"
        },
        "enable": true,
        "iconColor": "green",
        "name": "CloudWatch Annotation Empty Statistics",
        "namespace": "AWS/ApplicationELB",
        "prefixMatching": false,
        "region": "us-west-1"
      },
      {
        "dimensions": {
          "TableName": "my-table"
        },
        "enable": true,
        "iconColor": "yellow",
        "name": "CloudWatch Annotation Invalid Statistics - InvalidStat",
        "namespace": "AWS/DynamoDB",
        "prefixMatching": false,
        "region": "us-east-1",
        "statistic": "InvalidStat"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "default-ds-uid"
        },
        "enable": true,
        "iconColor": "purple",
        "name": "Non-CloudWatch Annotation"
      },
      {
        "dimensions": {
          "InstanceId": "i-789012"
        },
        "enable": true,
        "iconColor": "blue",
        "name": "CloudWatch Annotation Multiple Statistics - Minimum",
        "namespace": "AWS/RDS",
        "prefixMatching": false,
        "region": "us-west-2",
        "statistic": "Minimum"
      },
      {
        "dimensions": {
          "InstanceId": "i-789012"
        },
        "enable": true,
        "iconColor": "blue",
        "name": "CloudWatch Annotation Multiple Statistics - Sum",
        "namespace": "AWS/RDS",
        "prefixMatching": false,
        "region": "us-west-2",
        "statistic": "Sum"
      },
      {
        "dimensions": {
          "TableName": "my-table"
        },
        "enable": true,
        "iconColor": "yellow",
        "name": "CloudWatch Annotation Invalid Statistics - Sum",
        "namespace": "AWS/DynamoDB",
        "prefixMatching": false,
        "region": "us-east-1",
        "statistic": "Sum"
      },
      {
        "dimensions": {
          "TableName": "my-table"
        },
        "enable": true,
        "iconColor": "yellow",
        "name": "CloudWatch Annotation Invalid Statistics - null",
        "namespace": "AWS/DynamoDB",
        "prefixMatching": false,
        "region": "us-east-1",
        "statistic": null
      },
      {
        "dimensions": {
          "TableName": "my-table"
        },
        "enable": true,
        "iconColor": "yellow",
        "name": "CloudWatch Annotation Invalid Statistics - Average",
        "namespace": "AWS/DynamoDB",
        "prefixMatching": false,
        "region": "us-east-1",
        "statistic": "Average"
      }
    ]
  },
  "panels": [
    {
      "id": 1,
      "targets": [
        {
          "dimensions": {
            "InstanceId": "i-123456"
          },
          "metricEditorMode": 0,
          "metricName": "CPUUtilization",
          "metricQueryType": 0,
          "namespace": "AWS/EC2",
          "period": "300",
          "refId": "A",
          "region": "us-east-1",
          "statistic": "Average"
        },
        {
          "dimensions": {
            "InstanceId": "i-123456"
          },
          "metricEditorMode": 0,
          "metricName": "CPUUtilization",
          "metricQueryType": 0,
          "namespace": "AWS/EC2",
          "period": "300",
          "refId": "B",
          "region": "us-east-1",
          "statistic": "Maximum"
        },
        {
          "dimensions": {
            "InstanceId": "i-123456"
          },
          "metricEditorMode": 0,
          "metricName": "CPUUtilization",
          "metricQueryType": 0,
          "namespace": "AWS/EC2",
          "period": "300",
          "refId": "C",
          "region": "us-east-1",
          "statistic": "Minimum"
        }
      ],
      "title": "CloudWatch Single Query Multiple Statistics",
      "type": "timeseries"
    },
    {
      "id": 2,
      "targets": [
        {
          "dimensions": {
            "LoadBalancer": "my-load-balancer"
          },
          "metricEditorMode": 0,
          "metricName": "RequestCount",
          "metricQueryType": 0,
          "namespace": "AWS/ApplicationELB",
          "refId": "A",
          "region": "us-west-2",
          "statistic": "Sum"
        }
      ],
      "title": "CloudWatch Single Query Single Statistic",
      "type": "timeseries"
    },
    {
      "id": 3,
      "targets": [
        {
          "dimensions": {
            "DBInstanceIdentifier": "my-db"
          },
          "metricEditorMode": 0,
          "metricName": "DatabaseConnections",
          "metricQueryType": 0,
          "namespace": "AWS/RDS",
          "refId": "A",
          "region": "us-east-1",
          "statistic": "Maximum"
        }
      ],
      "title": "CloudWatch Query No Statistics Array",
      "type": "timeseries"
    },
    {
      "id": 4,
      "targets": [
        {
          "dimensions": {
            "QueueName": "my-queue"
          },
          "metricEditorMode": 0,
          "metricName": "ApproximateNumberOfMessages",
          "metricQueryType": 0,
          "namespace": "AWS/SQS",
          "refId": "A",
          "region": "us-east-1",
          "statistic": "Average"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "default-ds-uid"
          },
          "expr": "up",
          "refId": "B"
        },
        {
          "dimensions": {
            "TopicName": "my-topic"
          },
          "metricEditorMode": 0,
          "metricName": "NumberOfMessagesPublished",
          "metricQueryType": 0,
          "namespace": "AWS/SNS",
          "refId": "C",
          "region": "us-west-1",
          "statistic": "Sum"
        },
        {
          "dimensions": {
            "QueueName": "my-queue"
          },
          "metricEditorMode": 0,
          "metricName": "ApproximateNumberOfMessages",
          "metricQueryType": 0,
          "namespace": "AWS/SQS",
          "refId": "D",
          "region": "us-east-1",
          "statistic": "Maximum"
        }
      ],
      "title": "Mixed CloudWatch and Non-CloudWatch Queries",
      "type": "timeseries"
    },
    {
      "id": 5,
      "targets": [
        {
          "dimensions": {
            "BucketName": "my-bucket"
          },
          "metricEditorMode": 0,
          "metricName": "BucketSizeBytes",
          "metricQueryType": 0,
          "namespace": "AWS/S3",
          "refId": "A",
          "region": "us-east-1"
        }
      ],
      "title": "CloudWatch Query Empty Statistics",
      "type": "timeseries"
    },
    {
      "id": 6,
      "targets": [
        {
          "dimensions": {
            "FunctionName": "my-function"
          },
          "metricEditorMode": 0,
          "metricName": "Duration",
          "metricQueryType": 0,
          "namespace": "AWS/Lambda",
          "refId": "A",
          "region": "us-west-2",
          "statistic": "InvalidStat"
        },
        {
          "dimensions": {
            "FunctionName": "my-function"
          },
          "metricEditorMode": 0,
          "metricName": "Duration",
          "metricQueryType": 0,
          "namespace": "AWS/Lambda",
          "refId": "B",
          "region": "us-west-2",
          "statistic": "Average"
        },
        {
          "dimensions": {
            "FunctionName": "my-function"
          },
          "metricEditorMode": 0,
          "metricName": "Duration",
          "metricQueryType": 0,
          "namespace": "AWS/Lambda",
          "refId": "C",
          "region": "us-west-2",
          "statistic": null
        },
        {
          "dimensions": {
            "FunctionName": "my-function"
          },
          "metricEditorMode": 0,
          "metricName": "Duration",
          "metricQueryType": 0,
          "namespace": "AWS/Lambda",
          "refId": "D",
          "region": "us-west-2",
          "statistic": "Maximum"
        },
        {
          "dimensions": {
            "FunctionName": "my-function"
          },
          "metricEditorMode": 0,
          "metricName": "Duration",
          "metricQueryType": 0,
          "namespace": "AWS/Lambda",
          "refId": "E",
          "region": "us-west-2",
          "statistic": ""
        }
      ],
      "title": "CloudWatch Query Invalid Statistics",
      "type": "timeseries"
    },
    {
      "collapsed": true,
      "id": 7,
      "panels": [
        {
          "id": 8,
          "targets": [
            {
              "dimensions": {
                "StreamName": "my-stream"
              },
              "metricEditorMode": 0,
              "metricName": "IncomingRecords",
              "metricQueryType": 0,
              "namespace": "AWS/Kinesis",
              "refId": "A",
              "region": "us-east-1",
              "statistic": "Sum"
            },
            {
              "dimensions": {
                "StreamName": "my-stream"
              },
              "metricEditorMode": 0,
              "metricName": "IncomingRecords",
              "metricQueryType": 0,
              "namespace": "AWS/Kinesis",
              "refId": "B",
              "region": "us-east-1",
              "statistic": "Average"
            },
            {
              "dimensions": {
                "StreamName": "my-stream"
              },
              "metricEditorMode": 0,
              "metricName": "IncomingRecords",
              "metricQueryType": 0,
              "namespace": "AWS/Kinesis",
              "refId": "C",
              "region": "us-east-1",
              "statistic": "Maximum"
            }
          ],
          "title": "Nested CloudWatch Query Multiple Statistics",
          "type": "timeseries"
        }
      ],
      "title": "Collapsed Row with CloudWatch",
      "type": "row"
    },
    {
      "id": 9,
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "default-ds-uid"
          },
          "expr": "cpu_usage",
          "refId": "A"
        }
      ],
      "title": "Non-CloudWatch Panel",
      "type": "timeseries"
    }
  ],
  "refresh": "",
  "schemaVersion": 41,
  "title": "CloudWatch Multiple Statistics Test Dashboard"
}