<div class="gf-form-inline">
  <div class="gf-form">
    <label class="gf-form-label query-keyword width-9">Aggregation</label>
    <stackdriver-picker
      onChange="ctrl.handleAggregationChange"
      value="ctrl.target.aggregation.crossSeriesReducer"
      options="ctrl.aggOptions"
      is-searchable="true"
      placeholder="'Select Aggregation'"
      className="'width-15'"
      variables="ctrl.templateSrv.variables"
      group-name="'Aggregations'"
    ></stackdriver-picker>
  </div>
  <div class="gf-form gf-form--grow">
    <label class="gf-form-label gf-form-label--grow">
      <a ng-click="ctrl.target.showAggregationOptions = !ctrl.target.showAggregationOptions">
        <i class="fa fa-caret-down" ng-show="ctrl.target.showAggregationOptions"></i>
        <i class="fa fa-caret-right" ng-hide="ctrl.target.showAggregationOptions"></i> Advanced Options
      </a>
    </label>
  </div>
</div>
<div class="gf-form-group" ng-if="ctrl.target.showAggregationOptions">
  <div class="gf-form offset-width-9">
    <label class="gf-form-label query-keyword width-15">Aligner</label>
    <stackdriver-picker
      onChange="ctrl.handleAlignmentChange"
      value="ctrl.target.aggregation.perSeriesAligner"
      options="ctrl.alignOptions"
      is-searchable="true"
      placeholder="'Select Alignment'"
      className="'width-15'"
      variables="ctrl.templateSrv.variables"
      group-name="'Alignment Options'"
    ></stackdriver-picker>

    <div class="gf-form gf-form--grow"><div class="gf-form-label gf-form-label--grow"></div></div>
  </div>
</div>
<div class="gf-form-inline">
  <div class="gf-form">
    <label class="gf-form-label query-keyword width-9">Alignment Period</label>
    <stackdriver-picker
      onChange="ctrl.handleAlignmentPeriodChange"
      value="ctrl.target.aggregation.alignmentPeriod"
      options="ctrl.alignmentPeriods"
      is-searchable="true"
      placeholder="'Select Alignment'"
      className="'width-15'"
      variables="ctrl.templateSrv.variables"
      group-name="'Alignment Periods'"
    ></stackdriver-picker>
  </div>

  <div class="gf-form gf-form--grow">
    <label ng-if="alignmentPeriod" class="gf-form-label gf-form-label--grow"> {{ ctrl.formatAlignmentText() }} </label>
  </div>
</div>
