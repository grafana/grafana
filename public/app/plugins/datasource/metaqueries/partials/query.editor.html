<query-editor-row query-ctrl="ctrl" can-collapse="false">
  <div class="gf-form-inline">
    <div class="gf-form">
      <label class="gf-form-label query-keyword width-4">
        Type
        <a bs-tooltip="ctrl.errors.queryTypes" style="color: rgb(229, 189, 28)" ng-show="ctrl.errors.queryTypes">
          <i class="fa fa-warning"></i>
        </a>
      </label>
      <div class="gf-form-select-wrapper max-width-15">
        <select ng-model="ctrl.target.queryType" class="gf-form-input" ng-options="type for type in ctrl.queryTypes" ng-change="ctrl.targetBlur()">
        </select>
      </div>
    </div>

    <div class="gf-form">
      <label class="gf-form-label query-keyword width-10">
        Output Name
        <a bs-tooltip="ctrl.errors.outputMetricName" style="color: rgb(229, 189, 28)" ng-show="ctrl.errors.outputMetricName">
          <i class="fa fa-warning"></i>
        </a>
      </label>
      <input type="text" class="input-small gf-form-input width-10" spellcheck='false' ng-model="ctrl.target.outputMetricName" ng-blur="ctrl.targetBlur()" placeholder="metric name" data-min-length=1>
    </div>
    <div class="gf-form gf-form--grow">
      <div class="gf-form-label gf-form-label--grow"></div>
    </div>
  </div>

  <div class="gf-form-inline" ng-switch on="ctrl.target.queryType">
    <div ng-switch-when="MovingAverage|TimeShift" ng-switch-when-separator="|" class="gf-form max-width-20">
      <label class="gf-form-label query-keyword width-9">
        Periods
      </label>
      <input type="text" class="gf-form-input" ng-model="ctrl.target.periods" spellcheck='false' placeholder="7" ng-blur="ctrl.targetBlur()" />
      <label class="gf-form-label" bs-tooltip="ctrl.target.errors.periods" style="color: rgb(229, 189, 28)" ng-show="ctrl.target.errors.periods">
        <i class="fa fa-warning"></i>
      </label>
    </div>
    <div ng-switch-when="MovingAverage|TimeShift" ng-switch-when-separator="|" class="gf-form">
      <label class="gf-form-label query-keyword width-4">
        Query
      </label>
      <input type="text" class="gf-form-input" ng-model="ctrl.target.query" spellcheck='false' placeholder="query" ng-blur="ctrl.targetBlur()" bs-typeahead="ctrl.getQueryLetters"  />
      <label class="gf-form-label" bs-tooltip="ctrl.target.errors.query" style="color: rgb(229, 189, 28)" ng-show="ctrl.target.errors.query">
        <i class="fa fa-warning"></i>
      </label>
      <label class="gf-form-label query-keyword width-4">
        Metric
      </label>
      <input type="text" class="gf-form-input" ng-model="ctrl.target.metric" spellcheck='false' placeholder="metric" ng-blur="ctrl.targetBlur()"   />
      <label class="gf-form-label" bs-tooltip="ctrl.target.errors.metric" style="color: rgb(229, 189, 28)" ng-show="ctrl.target.errors.metric">
        <i class="fa fa-warning"></i>
      </label>
    </div>
    <div ng-switch-when="Arithmetic" ng-switch-when-separator="|" class="gf-form">
      <label class="gf-form-label query-keyword width-10">
        Expression
      </label>
      <input type="text" class="gf-form-input width-20" ng-model="ctrl.target.expression" spellcheck='false' placeholder="query" ng-blur="ctrl.targetBlur()"  />
      <label class="gf-form-label" bs-tooltip="ctrl.target.errors.expression" style="color: rgb(229, 189, 28)" ng-show="ctrl.target.errors.expression">
        <i class="fa fa-warning"></i>
      </label>

    </div>
  </div>
</query-editor-row>
