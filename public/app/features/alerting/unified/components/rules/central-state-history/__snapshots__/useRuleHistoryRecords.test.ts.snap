// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`ruleHistoryToRecords should be empty with no matches 1`] = `
{
  "historyRecords": [],
}
`;

exports[`ruleHistoryToRecords should convert rule history JSON response to log records 1`] = `
{
  "historyRecords": [
    {
      "line": {
        "condition": "C",
        "current": "NoData",
        "dashboardUID": "-W9yw_X7k",
        "fingerprint": "009794b4d3074732",
        "labels": {
          "alertname": "CPU Usage 6",
          "datasource_uid": "gdev-prometheus",
          "grafana_folder": "Demonstrations",
          "ref_id": "A",
          "team": "operations",
          "type": "test",
        },
        "panelID": 3,
        "previous": "Normal",
        "ruleID": 10605,
        "ruleTitle": "CPU Usage 6",
        "ruleUID": "-rRg_HcVz",
        "schemaVersion": 1,
        "values": {},
      },
      "timestamp": 1727189670000,
    },
    {
      "line": {
        "condition": "C",
        "current": "NoData",
        "dashboardUID": "stzZvVw7k",
        "fingerprint": "186e7d0c9173ddf4",
        "labels": {
          "alertname": "CPU Usage 4",
          "datasource_uid": "gdev-prometheus",
          "grafana_folder": "Demonstrations",
          "ref_id": "A",
          "region": "EMEA",
          "team": "operations",
        },
        "panelID": 8,
        "previous": "Normal",
        "ruleID": 150,
        "ruleTitle": "CPU Usage 4",
        "ruleUID": "s984p7n4k",
        "schemaVersion": 1,
        "values": {},
      },
      "timestamp": 1727189670000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Normal",
        "dashboardUID": "",
        "fingerprint": "bcf38efbb616d8d2",
        "labels": {
          "alertname": "direct to contact point",
          "grafana_folder": "Testing and reproducing",
        },
        "panelID": 0,
        "previous": "Alerting",
        "ruleID": 10656,
        "ruleTitle": "direct to contact point",
        "ruleUID": "ddc5zx4l3zls0a",
        "schemaVersion": 1,
        "values": {
          "B": -6.886811320670644,
          "C": 0,
        },
      },
      "timestamp": 1727189670000,
    },
    {
      "line": {
        "condition": "D",
        "current": "NoData",
        "dashboardUID": "iYSJkozVk",
        "fingerprint": "d3f3ec7ad90a37fd",
        "labels": {
          "alertname": "With Disabled Query",
          "datasource_uid": "gdev-prometheus",
          "grafana_folder": "Testing and reproducing",
          "ref_id": "A,B",
        },
        "panelID": 13,
        "previous": "Normal",
        "ruleID": 10631,
        "ruleTitle": "With Disabled Query",
        "ruleUID": "ab2ac850-1669-4dac-b566-c91728425f39",
        "schemaVersion": 1,
        "values": {},
      },
      "timestamp": 1727189670000,
    },
    {
      "line": {
        "condition": "C",
        "current": "NoData",
        "dashboardUID": "",
        "fingerprint": "f4c073dd4c60e897",
        "labels": {
          "alertname": "Alert State History Random",
          "datasource_uid": "gdev-prometheus",
          "grafana_folder": "Testing and reproducing",
          "ref_id": "A",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 10614,
        "ruleTitle": "Alert State History Random",
        "ruleUID": "e4d7252b-c66f-4f5c-b7db-28b9936150bd",
        "schemaVersion": 1,
        "values": {},
      },
      "timestamp": 1727189670000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Pending",
        "dashboardUID": "",
        "fingerprint": "e11b0ff29886e8f2",
        "labels": {
          "alertname": "node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate4",
          "grafana_folder": "Testing and reproducing",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 10662,
        "ruleTitle": "node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate4",
        "ruleUID": "ddgfq7c57fqpsc",
        "schemaVersion": 1,
        "values": {
          "B": 54.137611900622574,
          "C": 1,
        },
      },
      "timestamp": 1727189670000,
    },
    {
      "line": {
        "condition": "B",
        "current": "NoData",
        "dashboardUID": "",
        "fingerprint": "d6d7e256298c8ea8",
        "labels": {
          "alertname": "delete-ds",
          "datasource_uid": "gdev-prometheus",
          "grafana_folder": "Testing and reproducing",
          "ref_id": "A",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 144,
        "ruleTitle": "delete-ds",
        "ruleUID": "wXS0SnWVz",
        "schemaVersion": 1,
        "values": {},
      },
      "timestamp": 1727189670000,
    },
    {
      "line": {
        "condition": "C",
        "current": "NoData",
        "dashboardUID": "",
        "fingerprint": "bf1b309577b4fc0c",
        "labels": {
          "alertname": "Threshold Test",
          "datasource_uid": "gdev-prometheus",
          "grafana_folder": "Testing and reproducing",
          "ref_id": "A",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 148,
        "ruleTitle": "Threshold Test",
        "ruleUID": "u0QVOqMVz",
        "schemaVersion": 1,
        "values": {},
      },
      "timestamp": 1727189670000,
    },
    {
      "line": {
        "condition": "C",
        "current": "NoData",
        "dashboardUID": "",
        "fingerprint": "d6b1cde6ab63bfca",
        "labels": {
          "alertname": "Alert History fingerprint",
          "datasource_uid": "PDDA8E780A17E7EF1",
          "grafana_folder": "Testing and reproducing",
          "ref_id": "A",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 10619,
        "ruleTitle": "Alert History fingerprint",
        "ruleUID": "c7a7989f-f12c-4aa5-8fb3-27f4509a5809",
        "schemaVersion": 1,
        "values": {},
      },
      "timestamp": 1727189670000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Pending",
        "dashboardUID": "d4c61dfe-24d8-433e-984e-701a2f14faab",
        "fingerprint": "40ddb0f6e97426e9",
        "labels": {
          "alertname": "UniFi CPU Usage",
          "grafana_folder": "UniFi",
          "instance": "unpoller:9130",
          "job": "unifipoller",
          "name": "Dream Router",
          "site_name": "Default (default)",
          "source": "https://192.168.1.1",
          "type": "udm",
        },
        "panelID": 1,
        "previous": "Normal",
        "ruleID": 10638,
        "ruleTitle": "UniFi CPU Usage",
        "ruleUID": "d10fc550-3552-4083-a3aa-f6b68058bc7f",
        "schemaVersion": 1,
        "values": {
          "B": 0.0020875,
          "C": 1,
        },
      },
      "timestamp": 1727189670000,
    },
    {
      "line": {
        "condition": "B",
        "current": "Alerting",
        "dashboardUID": "",
        "fingerprint": "10716534bbf8086b",
        "labels": {
          "alertname": "XSS attack vector",
          "grafana_folder": "gdev dashboards",
        },
        "panelID": 0,
        "previous": "Pending",
        "ruleID": 37,
        "ruleTitle": "XSS attack vector",
        "ruleUID": "p8TBxnq7k",
        "schemaVersion": 1,
        "values": {
          "B0": 36.956598435022215,
        },
      },
      "timestamp": 1727189680000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Normal (MissingSeries)",
        "dashboardUID": "iYSJkozVk",
        "fingerprint": "4a5519a42c382438",
        "labels": {
          "alertname": "CPU Usage",
          "datasource_uid": "gdev-prometheus",
          "grafana_folder": "Demonstrations",
          "ref_id": "A",
          "team": "operations",
          "type": "cpu",
        },
        "panelID": 5,
        "previous": "NoData",
        "ruleID": 7635,
        "ruleTitle": "CPU Usage",
        "ruleUID": "8nEmeE44k",
        "schemaVersion": 1,
        "values": {},
      },
      "timestamp": 1727189700000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Alerting",
        "dashboardUID": "iYSJkozVk",
        "fingerprint": "cc4aceb3018da2e8",
        "labels": {
          "alertname": "CPU Usage",
          "cpu": "7",
          "grafana_folder": "Demonstrations",
          "team": "operations",
          "type": "cpu",
        },
        "panelID": 5,
        "previous": "Normal",
        "ruleID": 7635,
        "ruleTitle": "CPU Usage",
        "ruleUID": "8nEmeE44k",
        "schemaVersion": 1,
        "values": {
          "B": 0.067575,
          "C": 1,
        },
      },
      "timestamp": 1727189690000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Alerting",
        "dashboardUID": "iYSJkozVk",
        "fingerprint": "20dfd648881e698f",
        "labels": {
          "alertname": "CPU Usage",
          "cpu": "2",
          "grafana_folder": "Demonstrations",
          "team": "operations",
          "type": "cpu",
        },
        "panelID": 5,
        "previous": "Normal",
        "ruleID": 7635,
        "ruleTitle": "CPU Usage",
        "ruleUID": "8nEmeE44k",
        "schemaVersion": 1,
        "values": {
          "B": 0.06216900000000001,
          "C": 1,
        },
      },
      "timestamp": 1727189690000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Alerting",
        "dashboardUID": "iYSJkozVk",
        "fingerprint": "234db8cd1e160f6a",
        "labels": {
          "alertname": "CPU Usage",
          "cpu": "1",
          "grafana_folder": "Demonstrations",
          "team": "operations",
          "type": "cpu",
        },
        "panelID": 5,
        "previous": "Normal",
        "ruleID": 7635,
        "ruleTitle": "CPU Usage",
        "ruleUID": "8nEmeE44k",
        "schemaVersion": 1,
        "values": {
          "B": 0.07027800000000001,
          "C": 1,
        },
      },
      "timestamp": 1727189690000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Alerting",
        "dashboardUID": "iYSJkozVk",
        "fingerprint": "4e1f85b7efc3ed75",
        "labels": {
          "alertname": "CPU Usage",
          "cpu": "0",
          "grafana_folder": "Demonstrations",
          "team": "operations",
          "type": "cpu",
        },
        "panelID": 5,
        "previous": "Normal",
        "ruleID": 7635,
        "ruleTitle": "CPU Usage",
        "ruleUID": "8nEmeE44k",
        "schemaVersion": 1,
        "values": {
          "B": 0.06727466666666668,
          "C": 1,
        },
      },
      "timestamp": 1727189690000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Alerting",
        "dashboardUID": "iYSJkozVk",
        "fingerprint": "50bf9f17b9534593",
        "labels": {
          "alertname": "CPU Usage",
          "cpu": "6",
          "grafana_folder": "Demonstrations",
          "team": "operations",
          "type": "cpu",
        },
        "panelID": 5,
        "previous": "Normal",
        "ruleID": 7635,
        "ruleTitle": "CPU Usage",
        "ruleUID": "8nEmeE44k",
        "schemaVersion": 1,
        "values": {
          "B": 0.05315900000000001,
          "C": 1,
        },
      },
      "timestamp": 1727189690000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Alerting",
        "dashboardUID": "iYSJkozVk",
        "fingerprint": "2fb0af95df9b2bfe",
        "labels": {
          "alertname": "CPU Usage",
          "cpu": "5",
          "grafana_folder": "Demonstrations",
          "team": "operations",
          "type": "cpu",
        },
        "panelID": 5,
        "previous": "Normal",
        "ruleID": 7635,
        "ruleTitle": "CPU Usage",
        "ruleUID": "8nEmeE44k",
        "schemaVersion": 1,
        "values": {
          "B": 0.046551666666666686,
          "C": 1,
        },
      },
      "timestamp": 1727189690000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Alerting",
        "dashboardUID": "iYSJkozVk",
        "fingerprint": "d0303e26f6c376e9",
        "labels": {
          "alertname": "CPU Usage",
          "cpu": "4",
          "grafana_folder": "Demonstrations",
          "team": "operations",
          "type": "cpu",
        },
        "panelID": 5,
        "previous": "Normal",
        "ruleID": 7635,
        "ruleTitle": "CPU Usage",
        "ruleUID": "8nEmeE44k",
        "schemaVersion": 1,
        "values": {
          "B": 0.05466066666666668,
          "C": 1,
        },
      },
      "timestamp": 1727189690000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Alerting",
        "dashboardUID": "iYSJkozVk",
        "fingerprint": "af82d1220e70c3b4",
        "labels": {
          "alertname": "CPU Usage",
          "cpu": "3",
          "grafana_folder": "Demonstrations",
          "team": "operations",
          "type": "cpu",
        },
        "panelID": 5,
        "previous": "Normal",
        "ruleID": 7635,
        "ruleTitle": "CPU Usage",
        "ruleUID": "8nEmeE44k",
        "schemaVersion": 1,
        "values": {
          "B": 0.059165666666666665,
          "C": 1,
        },
      },
      "timestamp": 1727189690000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Normal (MissingSeries)",
        "dashboardUID": "iYSJkozVk",
        "fingerprint": "4a5519a42c382438",
        "labels": {
          "alertname": "CPU Usage",
          "datasource_uid": "gdev-prometheus",
          "grafana_folder": "Demonstrations",
          "ref_id": "A",
          "team": "operations",
          "type": "cpu",
        },
        "panelID": 5,
        "previous": "Error",
        "ruleID": 7635,
        "ruleTitle": "CPU Usage",
        "ruleUID": "8nEmeE44k",
        "schemaVersion": 1,
        "values": {},
      },
      "timestamp": 1727189680000,
    },
    {
      "line": {
        "condition": "C",
        "current": "NoData",
        "dashboardUID": "iYSJkozVk",
        "fingerprint": "4a5519a42c382438",
        "labels": {
          "alertname": "CPU Usage",
          "datasource_uid": "gdev-prometheus",
          "grafana_folder": "Demonstrations",
          "ref_id": "A",
          "team": "operations",
          "type": "cpu",
        },
        "panelID": 5,
        "previous": "Normal",
        "ruleID": 7635,
        "ruleTitle": "CPU Usage",
        "ruleUID": "8nEmeE44k",
        "schemaVersion": 1,
        "values": {},
      },
      "timestamp": 1727189670000,
    },
    {
      "line": {
        "condition": "C",
        "current": "Pending",
        "dashboardUID": "",
        "fingerprint": "abeb2444057d7f01",
        "labels": {
          "alertname": "test-read-only-threshold-indicators",
          "grafana_folder": "Testing and reproducing",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 10606,
        "ruleTitle": "test-read-only-threshold-indicators",
        "ruleUID": "Wq5jJlc4k",
        "schemaVersion": 1,
        "values": {
          "C0": 9.319781010143206,
        },
      },
      "timestamp": 1727189700000,
    },
    {
      "line": {
        "condition": "threshold",
        "current": "Pending",
        "dashboardUID": "",
        "fingerprint": "2e7f5e6f5a5f2902",
        "labels": {
          "alertname": "CPU Usage 5",
          "cpu": "6",
          "grafana_folder": "Demonstrations",
          "team": "operations",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 10583,
        "ruleTitle": "CPU Usage 5",
        "ruleUID": "LvMu_IHVz",
        "schemaVersion": 1,
        "values": {
          "reducer": 0.07305751032920166,
          "threshold": 1,
        },
      },
      "timestamp": 1727189710000,
    },
    {
      "line": {
        "condition": "threshold",
        "current": "Pending",
        "dashboardUID": "",
        "fingerprint": "1c1b21f738468ea5",
        "labels": {
          "alertname": "CPU Usage 5",
          "cpu": "5",
          "grafana_folder": "Demonstrations",
          "team": "operations",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 10583,
        "ruleTitle": "CPU Usage 5",
        "ruleUID": "LvMu_IHVz",
        "schemaVersion": 1,
        "values": {
          "reducer": 0.06820108623217379,
          "threshold": 1,
        },
      },
      "timestamp": 1727189710000,
    },
    {
      "line": {
        "condition": "threshold",
        "current": "Pending",
        "dashboardUID": "",
        "fingerprint": "23ee5f02850e38f8",
        "labels": {
          "alertname": "CPU Usage 5",
          "cpu": "4",
          "grafana_folder": "Demonstrations",
          "team": "operations",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 10583,
        "ruleTitle": "CPU Usage 5",
        "ruleUID": "LvMu_IHVz",
        "schemaVersion": 1,
        "values": {
          "reducer": 0.07685819005731041,
          "threshold": 1,
        },
      },
      "timestamp": 1727189710000,
    },
    {
      "line": {
        "condition": "threshold",
        "current": "Pending",
        "dashboardUID": "",
        "fingerprint": "2a810fa152d6407b",
        "labels": {
          "alertname": "CPU Usage 5",
          "cpu": "3",
          "grafana_folder": "Demonstrations",
          "team": "operations",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 10583,
        "ruleTitle": "CPU Usage 5",
        "ruleUID": "LvMu_IHVz",
        "schemaVersion": 1,
        "values": {
          "reducer": 0.08614874050379848,
          "threshold": 1,
        },
      },
      "timestamp": 1727189710000,
    },
    {
      "line": {
        "condition": "threshold",
        "current": "Pending",
        "dashboardUID": "",
        "fingerprint": "48d127e8826c6fb6",
        "labels": {
          "alertname": "CPU Usage 5",
          "cpu": "2",
          "grafana_folder": "Demonstrations",
          "team": "operations",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 10583,
        "ruleTitle": "CPU Usage 5",
        "ruleUID": "LvMu_IHVz",
        "schemaVersion": 1,
        "values": {
          "reducer": 0.0926943555910969,
          "threshold": 1,
        },
      },
      "timestamp": 1727189710000,
    },
    {
      "line": {
        "condition": "threshold",
        "current": "Pending",
        "dashboardUID": "",
        "fingerprint": "c9582e3d28402fe9",
        "labels": {
          "alertname": "CPU Usage 5",
          "cpu": "1",
          "grafana_folder": "Demonstrations",
          "team": "operations",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 10583,
        "ruleTitle": "CPU Usage 5",
        "ruleUID": "LvMu_IHVz",
        "schemaVersion": 1,
        "values": {
          "reducer": 0.1097974143675863,
          "threshold": 1,
        },
      },
      "timestamp": 1727189710000,
    },
    {
      "line": {
        "condition": "threshold",
        "current": "Pending",
        "dashboardUID": "",
        "fingerprint": "fb3e32509acec7ec",
        "labels": {
          "alertname": "CPU Usage 5",
          "cpu": "0",
          "grafana_folder": "Demonstrations",
          "team": "operations",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 10583,
        "ruleTitle": "CPU Usage 5",
        "ruleUID": "LvMu_IHVz",
        "schemaVersion": 1,
        "values": {
          "reducer": 0.12985655737704918,
          "threshold": 1,
        },
      },
      "timestamp": 1727189710000,
    },
    {
      "line": {
        "condition": "B",
        "current": "Pending",
        "dashboardUID": "",
        "fingerprint": "91a8126f41689d98",
        "labels": {
          "alertname": "Random Values",
          "grafana_folder": "Demonstrations",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 146,
        "ruleTitle": "Random Values",
        "ruleUID": "I1M_iCWVk",
        "schemaVersion": 1,
        "values": {
          "B0": 8.406488484275167,
        },
      },
      "timestamp": 1727189710000,
    },
    {
      "line": {
        "condition": "threshold",
        "current": "Pending",
        "dashboardUID": "",
        "fingerprint": "6cd2ab200de1cf77",
        "labels": {
          "alertname": "CPU Usage 5",
          "cpu": "7",
          "grafana_folder": "Demonstrations",
          "team": "operations",
        },
        "panelID": 0,
        "previous": "Normal",
        "ruleID": 10583,
        "ruleTitle": "CPU Usage 5",
        "ruleUID": "LvMu_IHVz",
        "schemaVersion": 1,
        "values": {
          "reducer": 0.08973827135812343,
          "threshold": 1,
        },
      },
      "timestamp": 1727189710000,
    },
  ],
}
`;

exports[`ruleHistoryToRecords should convert rule history JSON response with filters 1`] = `
{
  "historyRecords": [
    {
      "line": {
        "condition": "B",
        "current": "Alerting",
        "dashboardUID": "",
        "fingerprint": "10716534bbf8086b",
        "labels": {
          "alertname": "XSS attack vector",
          "grafana_folder": "gdev dashboards",
        },
        "panelID": 0,
        "previous": "Pending",
        "ruleID": 37,
        "ruleTitle": "XSS attack vector",
        "ruleUID": "p8TBxnq7k",
        "schemaVersion": 1,
        "values": {
          "B0": 36.956598435022215,
        },
      },
      "timestamp": 1727189680000,
    },
  ],
}
`;
